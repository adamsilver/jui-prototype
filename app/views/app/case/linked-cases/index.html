{% extends "layouts/admin/base.html" %}

{% block pageTitle %}Linked cases {{'- ' + serviceName}}{% endblock %}

{% block content %}


{% set reservedBadgeHtml %}
    {% if _case.reserved %}
    {{ hmctsBadge({
      classes: 'govuk-!-margin-left-1',
      text: _case.reserved
    }) }}
    {% endif %}
  {% endset %}


{{ hmctsIdentityBar({
title: {
  html: casebar.parties + reservedBadgeHtml
  },
menus: caseActions
}) }}

	<div class="hmcts-width-container">

    <main class="govuk-main-wrapper" role="main">

      {% if success %}
        {{ hmctsBanner({
          type: 'success',
          text: success,
          iconFallbackText: 'Success'
        }) }}
      {% endif %}

      {{ hmctsSubNavigation({
        items: caseNavItems
      }) }}


      {{ hmctsPageHeaderWithActions({
        title: {
          html: '
          <h1 class="govuk-heading-xl">Linked cases</h1>'
        },
        items: [{
          classes: 'hmcts-button--secondary',
          text: 'Link a case',
          href: '/app/cases/'+_case.id+'/linked-cases/new'
        }]
      }) }}


      {% if linkedCaseRows.length %}

        {{ govukTable({
          firstCellIsHeader: true,
          head: [
            {
              text: "Reference"
            },
            {
              text: "Parties"
            },
            {
              text: "Type"
            },
            {
              text: "Reason"
            },
            {
              text: "Linked by"
            },
            {
              text: ""
            }
          ],
          rows: linkedCaseRows
        }) }}
      {% else %}
        <p class="govuk-body">There are no linked cases.</p>
      {% endif %}
		</main>
	</div>
{% endblock %}